<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div class="jumbotron" style="padding-top: 15px;padding-bottom: 15px;">
    <div class="container">
        <h2>修改密码</h2>
    </div>
</div>

<div class="container">
    <center>
        <h3>请按照要求填写完整后点"修改"按钮</h3>
        <form id="changePasswordForm" action="#">
            <div id="changeName" style="font-size: 20px">
                <p>请输入现在的密码:<input id="oldPassword" name="oldPassword" type="password"></p>
                <p>请输入新密码:<input id="newPassword" name="newPassword" type="password"></p>
                <p>请再次输入新密码:<input id="newPassword2" name="newPassword2" type="password"></p>
                <p><input type="submit" id="changePassword" value="修改"></p>
            </div>
        </form>
    </center>
</div>

<script type="text/javascript" src="js/jquery-1.12.2.min.js"></script>
<script type="text/javascript">

    $("form").submit(function () {
        $.ajax({
            type: "post",
            url: "user/changePassword.do",
            data: $("form").serialize(),
            dataType: "json",
            success: function (data) {
                if (data.code == 0) {
                    alert(data.info);
                    top.location.href = "login.html";
                } else {
                    alert(data.info);
                    if ("账号失效,请重新登陆" === data.info){
                        top.location.href = "login.html";
                    }
                }
            }
        });
        return false;
    })
</script>

</body>
</html>